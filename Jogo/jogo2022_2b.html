<!DOCTYPE >
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inter vs Flamengo</title>
    <link rel="stylesheet" href="style.css">
	<link rel="manifest" href="./manifest.json" />
	<link rel="shortcut icon" href="./icon/favicon-16x16-dunplab-manifest-9314.png" type="image/png">
	<link rel="icon" href="./icon/favicon-16x16-dunplab-manifest-9314.png" type="image/png">
	<script>
		if ('serviceWorker' in navigator) {
			navigator.serviceWorker.register('./sw.js')
				.then(function () { console.log('service worker registered'); })
				.catch(function () { console.log('service worker failed'); });
		}
	</script>
    </head>
	<body>
		<div id="timerjogo">
		</div>
		<div class="fundo" id="fundo">
		<div id="div8">
		</div>
        <div id="div7">
        </div>
        <div id="div6">
        </div>
        <div id="div5">
        </div>
        <div id="div4">
        </div>
        <div id="div3">
        </div>
		<div id="div2" >
		</div>
		<div id="div1">
		</div>
		<div id="v1">
		</div>
		<div id="v5">
		</div>
		<div id="mensagem">
		</div>
		<div id="reinicio">
			<button type="button"  id="reiniciar" ><h2>Clique aqui para reiniciar o jogo</h2></button>
		</div>
		<div id="início">
			<button type="button"  id="iniciar" ><h2>Clique aqui para iniciar o jogo</h2></button>
		</div>
		<div id="limpar">
			<button type="button" id="limpe">
				<h2>Reiniciar os tempos</h2>
			</button>
		</div>
		<div class="painel">
			
				<hr>
				<button type="button"  id="acima" >Acima</button><br>
				<button type="button"  id="esquerda">Esquerda</button>
				<button type="button"  id="direita" >Direita</button><br>
				<button type="button"  id="baixo" >Abaixo</button><hr>
				<hr>
			
		</div>
	</div>
		<script>
			let audio = new Audio("./audio.mp3");
			function musica(){
			audio.play();
			}
			// Timer //
			const tempo=document.querySelector("#timerjogo");
				let timeSecond = 60;
				displayTime(timeSecond);
				function displayTime(time) {
					const min = Math.floor(time / 60);
					const sec = Math.floor(time % 60);
					tempo.innerHTML = `${0}${min}:${sec < 10 ? '0' : ''}${sec}`
				}
				let countDown = 0;
				function endTime() {
					tempo.innerHTML = "00:00";
					para7();
					para6();
					para5();
					para4();
					para3();
					para2();
					para();
				}
               // mover div 7 - automático
                function moverbaixo1() {
                    let div7top = parseInt(getComputedStyle(div7).top);
                    let fundoHeight = parseInt(getComputedStyle(fundo).height);
                    let div7Height = parseInt(getComputedStyle(div7).height);
		
                    div7.style.top = div7top + 5;
                    if (div7top >= fundoHeight - div7Height) {
                        clearInterval(f);
                        f = setInterval("moveracima1()", 15);
                    }
                }
                function moveracima1() {
                    let div7top = parseInt(getComputedStyle(div7).top);
                    let fundoHeight = parseInt(getComputedStyle(fundo).height);
                    let div7Height = parseInt(getComputedStyle(div7).height);

                    div7.style.top = div7top - 5;
                    if (div7top <= 0) {
                        clearInterval(f);
                        f = setInterval("moverbaixo1()", 15);
                    }
                }
            // mover div 6 - automático
                function moverbaixo() {
                    let div6top = parseInt(getComputedStyle(div6).top);
                    let fundoHeight = parseInt(getComputedStyle(fundo).height);
                    let div6Height = parseInt(getComputedStyle(div6).height);

                    div6.style.top = div6top + 5;
                    if (div6top >= fundoHeight - div6Height) {
                        clearInterval(e);
                        e = setInterval("moveracima()", 15);
                    }
                }
                function moveracima() {
                    let div6top = parseInt(getComputedStyle(div6).top);
                    let fundoHeight = parseInt(getComputedStyle(fundo).height);
                    let div6Height = parseInt(getComputedStyle(div6).height);

                    div6.style.top = div6top - 5;
                    if (div6top <= 0) {
                        clearInterval(e);
                        e = setInterval("moverbaixo()", 15);
                    }
                }
             // mover div 5 - automático
                function moverdireita3() {
                    let div5Left = parseInt(getComputedStyle(div5).left);
                    let fundoWidth = parseInt(getComputedStyle(fundo).width);
                    let div5Width = parseInt(getComputedStyle(div5).width);

                    div5.style.left = div5Left + 5;
                    if (div5Left >= fundoWidth - div5Width) {
                        clearInterval(d);
                        d = setInterval("moveresquerda3()", 15);
                    }
                }
                function moveresquerda3() {
                    let div5Left = parseInt(getComputedStyle(div5).left);
                    let fundoWidth = parseInt(getComputedStyle(fundo).width);
                    let div5Width = parseInt(getComputedStyle(div5).width);

                    div5.style.left = div5Left - 5;
                    if (div5Left <= 0) {
                        clearInterval(d);
                        d = setInterval("moverdireita3()", 15);
                    }
                }
            // mover div 4 - automático
                function moverdireita2() {
                    let div4Left = parseInt(getComputedStyle(div4).left);
                    let fundoWidth = parseInt(getComputedStyle(fundo).width);
                    let div4Width = parseInt(getComputedStyle(div4).width);

                    div4.style.left = div4Left + 5;
                    if (div4Left >= fundoWidth - div4Width) {
                        clearInterval(c);
                        c = setInterval("moveresquerda2()", 15);
                    }
                }
                function moveresquerda2() {
                    let div4Left = parseInt(getComputedStyle(div4).left);
                    let fundoWidth = parseInt(getComputedStyle(fundo).width);
                    let div4Width = parseInt(getComputedStyle(div4).width);

                    div4.style.left = div4Left - 5;
                    if (div4Left <= 0) {
                        clearInterval(c);
                        c = setInterval("moverdireita2()", 15);
                    }
                }
                // mover div 3 - automático
			function moverdireita1(){
				let div3Left= parseInt(getComputedStyle(div3).left);
				let fundoWidth= parseInt(getComputedStyle(fundo).width);
				let div3Width= parseInt(getComputedStyle(div3).width);

				div3.style.left = div3Left +5;
				if ( div3Left >=  fundoWidth - div3Width){
					clearInterval(b);
					b = setInterval ("moveresquerda1()",5);
				}
			}
			function moveresquerda1(){
				let div3Left= parseInt(getComputedStyle(div3).left);
				let fundoWidth= parseInt(getComputedStyle(fundo).width);
				let div3Width= parseInt(getComputedStyle(div3).width);

				div3.style.left = div3Left -5;
				if ( div3Left <= 0){
					clearInterval(b);
					b = setInterval ("moverdireita1()",5);
				}
			}
            // mover div 2 - automático
			function moverdireita(){
				let div2Left= parseInt(getComputedStyle(div2).left);
				let fundoWidth= parseInt(getComputedStyle(fundo).width);
				let div2Width= parseInt(getComputedStyle(div2).width);

				div2.style.left = div2Left +5;
				if ( div2Left >=  fundoWidth - div2Width){
					clearInterval(a);
					a = setInterval ("moveresquerda()",5);
				}
			}
			function moveresquerda(){
				let div2Left= parseInt(getComputedStyle(div2).left);
				let fundoWidth = parseInt(getComputedStyle(fundo).width);
				let div5Left = parseInt(getComputedStyle(div5).left);
                let div5Width = parseInt(getComputedStyle(div5).width);

				div2.style.left = div2Left - 5;
				if (div2Left <= 0) {
					clearInterval(a);
					a = setInterval("moverdireita()", 5);
				}
			}

            // Mover cursor 1  - através dos botões
			function move(Direcao) {
				if (contador != 0) {
					para();
				}
				if (Direcao == "direita" && cn==1) {
					timer = setInterval("direita()",15);
					contador ++;
				}

				if (Direcao == "esquerda" && cn==1) {
					timer = setInterval("esquerda()",15);
					contador ++;
				}

				if (Direcao == "acima" && cn==1) {
					timer = setInterval("acima()",15);
					contador ++;
				}

				if (Direcao == "baixo" && cn==1) {
					timer = setInterval("baixo()",15);
					contador ++;
				}
			}


            function direita() {
				let div1Left= parseInt(getComputedStyle(div1).left);
				let fundoWidth= parseInt(getComputedStyle(fundo).width);
				let div1Width= parseInt(getComputedStyle(div1).width);

				div1.style.left = div1Left+5;
				if ( div1Left >= fundoWidth  - div1Width){
					clearInterval(timer);
					timer = setInterval ("esquerda()",15);
				}
			}

			function esquerda() {
				let div1Left= parseInt(getComputedStyle(div1).left);
				
				div1.style.left = div1Left-5;
				if ( div1Left <= 0){
					clearInterval(timer);
					timer = setInterval ("direita()",15);
				}
			}

			function baixo() {
				let div1Top= parseInt(getComputedStyle(div1).top);
				let fundoHeight= parseInt(getComputedStyle(fundo).height);
				let div1Height= parseInt(getComputedStyle(div1).height);

				div1.style.top = div1Top+5;
				if(div1Top >= fundoHeight - div1Height){
					clearInterval(timer);
				timer = setInterval("acima()",15);
			    }
			}
			function acima() {
				let div1Top= parseInt(getComputedStyle(div1).top);

				div1.style.top = div1Top-5;
				if(div1Top <= 0 ){
				clearInterval(timer);
				timer = setInterval("baixo()",15);
				}
			}

            // Parar cursores
             function para7() {
                    clearInterval(f);
                }
                 function para6() {
                        clearInterval(e);
                    }
              function para5() {
                    clearInterval(d);
                }
              function para4() {
                    clearInterval(c);
                }
            function para3() {
                    clearInterval(b);
                }
			function para2(){
				clearInterval(a);
			}
			function para() {
				clearInterval(timer);
			}

			

			function altura(parametro) {
				div1.style.height = parseInt(getComputedStyle(div1).height)+parametro;
			}

			function largura(parametro) {
				div1.style.width = parseInt(getComputedStyle(div1).width)+parametro;
			}
			
				function colisao(d1, d2){
				let div1Left= parseInt(getComputedStyle(d1).left);
				let div1Top= parseInt(getComputedStyle(d1).top);
				let div1Height= parseInt(getComputedStyle(d1).height);
				let div1Width= parseInt(getComputedStyle(d1).width);

				let div2Left= parseInt(getComputedStyle(d2).left);
				let div2Top= parseInt(getComputedStyle(d2).top);
				let div2Height= parseInt(getComputedStyle(d2).height);
				let div2Width= parseInt(getComputedStyle(d2).width);
				
				let fundoHeight= parseInt(getComputedStyle(fundo).height);
				let fundoWidth= parseInt(getComputedStyle(fundo).width);



					if (((div1Left >= div2Left)&&(div1Left <= div2Left + div2Width))&&
						((div1Top >= div2Top)&&(div1Top <= div2Top + div2Height))){
							para7();
                            para6();
                            para5();
                            para4();
                            para3();
                            para2();
							para();
							endTime();
							clearInterval(countDown);
							clearInterval(gm1);
							clearInterval(gm2);
							clearInterval(gm3);
							clearInterval(gm4);
							clearInterval(gm5);
							clearInterval(gm6);
							clearInterval(g1);
							clearInterval(g5);
							cn = 0;
							armazenar();
							document.querySelector("#mensagem").innerHTML="O jogo acabou";
				
					}
					if (((div2Left >= div1Left)&&(div2Left <= div1Left + div1Width))&&
						((div2Top >= div1Top)&&(div2Top <= div1Top + div1Height))){
							para7();
                            para6();
                            para5();
                            para4();
                            para3();
                            para2();
							para();
							endTime();
							clearInterval(countDown);
							clearInterval(gm1);
							clearInterval(gm2);
							clearInterval(gm3);
							clearInterval(gm4);
							clearInterval(gm5);
							clearInterval(gm6);
							clearInterval(g1);
							clearInterval(g5);
							cn = 0;
							armazenar();
							document.querySelector("#mensagem").innerHTML="O jogo acabou";
					}
				}

			function limparpontuacoes() {
				contadorA = 1;
				contadorB = 0;
				tempoconclusao = "";
				contadorconclusao = 1;
				localStorage.clear();
				document.querySelector("#div8").innerHTML = tempoconclusao; 
			} 

			function startar() {
				musica();
			if (a==0 && b == 0 && c == 0 && d == 0 && e == 0 && f == 0 && cn == 0 && timeSecond == 60) {
	   		a = setInterval("moverdireita()", 5);
            b = setInterval("moveresquerda1()", 5); //Funções que são chamadas a cada 15 e 5 milisegundos
            c = setInterval("moverdireita2()", 15);
            d = setInterval("moveresquerda3()", 15);
            e = setInterval("moveracima()", 15);
            f = setInterval("moverbaixo1()", 15);
			cn = 1;
			countDown = setInterval(() => {
					timeSecond--;
					displayTime(timeSecond);
					if (timeSecond <= 0 || timeSecond < 1) {
						document.querySelector("#mensagem").innerHTML = "O jogo acabou";
						endTime();
						clearInterval(countDown);
					}
				}, 1000)
			}
			}
			function reiniciar(){
			audio.pause();
			contador = 0;
			cont = 0;
			timer = 0;
			cn = 0;
			a = 0;
			b = 0;
			c = 0;
			d = 0;
			e = 0;
			f = 0;
			contadorA++;
			gm1 = setInterval("colisao(div1, div2,)", 5);
			gm2 = setInterval("colisao(div1, div3,)", 5)
			gm3 = setInterval("colisao(div1, div4,)", 5)
			gm4 = setInterval("colisao(div1, div5,)", 5)
			gm5 = setInterval("colisao(div1, div6,)", 5)
			gm6 = setInterval("colisao(div1, div7,)", 5)
			g1 = setInterval("colisao(div1, v1,)", 5);
			g5 = setInterval("colisao(div1, v5,)", 5);
			div1.style.top = playertop;
			div1.style.left = playerleft;
			div2.style.top = i1top;
			div2.style.left = i1left;
			div3.style.top = i2top;
			div3.style.left = i2left;
			div4.style.top = i3top;
			div4.style.left = i3left;
			div5.style.top = i4top;
			div5.style.left = i4left;
			div6.style.top = i5top;
			div6.style.left = i5left;
			div7.style.top = i6top;
			div7.style.left = i6left;
			timeSecond = 60;
			tempo.innerHTML = "01:00";
			document.querySelector("#mensagem").innerHTML = "";
			}

			function armazenar(){
			if (contadorconclusao <= 3) {
			if (contadorA>contadorB) {
			let tc = 60 - timeSecond;
			localStorage.setItem("Tempo de conclusão " + contadorA,(tc));
			contadorB++;
			if (tempoconclusao == "" && contadorconclusao == 1) {
			let exibicao = 60 - timeSecond;
			tempoconclusao += "Tempo de conclusão " + contadorB + " = " + exibicao;
			document.querySelector("#div8").innerHTML = tempoconclusao; 
			}
			else {
			let exibicao = 60 - timeSecond;
			tempoconclusao += "<br>" + "Tempo de conclusão " + contadorB + " = " + exibicao;
			document.querySelector("#div8").innerHTML = tempoconclusao; 
			}
			contadorconclusao++;
		}
		}
	}

            //Ao carregar a página estas linhas são executadas. 
			let contadorA = 1;
			let contadorB = 0;
			let contador = 0;
            let cont = 0;
			let timer = 0;
			let cn = 0;
			let a = 0;
			let b = 0;
			let c = 0;
			let d = 0;
			let e = 0;
			let f = 0;
			let tempoconclusao = "";
			let contadorconclusao = 1;
			let playerleft = parseInt(getComputedStyle(div1).left);
			let playertop = parseInt(getComputedStyle(div1).top);
			let i1left = parseInt(getComputedStyle(div2).left);
			let i1top = parseInt(getComputedStyle(div2).top);
			let i2left = parseInt(getComputedStyle(div3).left);
			let i2top = parseInt(getComputedStyle(div3).top);
			let i3left = parseInt(getComputedStyle(div4).left);
			let i3top = parseInt(getComputedStyle(div4).top);
			let i4left = parseInt(getComputedStyle(div5).left);
			let i4top = parseInt(getComputedStyle(div5).top);
			let i5left = parseInt(getComputedStyle(div6).left);
			let i5top = parseInt(getComputedStyle(div6).top);
			let i6left = parseInt(getComputedStyle(div7).left);
			let i6top = parseInt(getComputedStyle(div7).top);
			let gm1 = setInterval("colisao(div1, div2,)", 5);
            let gm2 = setInterval("colisao(div1, div3,)", 5)
            let gm3 = setInterval("colisao(div1, div4,)", 5)
            let gm4 = setInterval("colisao(div1, div5,)", 5)
            let gm5 = setInterval("colisao(div1, div6,)", 5)
            let gm6 = setInterval("colisao(div1, div7,)", 5)
			let g1 = setInterval("colisao(div1, v1,)", 5);
			let g5 = setInterval("colisao(div1, v5,)", 5);
            document.querySelector("#acima").addEventListener("click", ()=>{move('acima')});
            document.querySelector("#esquerda").addEventListener("click",()=>{ move('esquerda')});
            document.querySelector("#direita").addEventListener("click",()=>{ move('direita')});
            document.querySelector("#baixo").addEventListener("click",()=>{ move('baixo')});
			document.querySelector("#iniciar").addEventListener("click",()=>{ startar()});
			document.querySelector("#reiniciar").addEventListener("click",()=>{ reiniciar()});
			document.querySelector("#limpe").addEventListener("click", () => { limparpontuacoes()});

		</script>
	</body>
</html>
